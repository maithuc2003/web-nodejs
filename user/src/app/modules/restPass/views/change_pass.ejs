<%- get_layout("header")%>
    <div id="content" class="mt-2 mb-2">
        <div id="wp-form-login" class="m-5">
            <h1 class="text-sm-center h2">Khôi phục mật khẩu</h1>
            <div class="container">
                <div class="row justify-content-md-center">
                    <div class="col-8">
                        <form method="POST" action="/quen-mat-khau/change_pass" onsubmit="return validatePassword()">
                            <input type="hidden" name="user_id" value="<%= user_id %>">
                            <input type="hidden" name="token" value="<%= token %>">
                            <div class="form-group">
                                <label for="newPassword">Mật khẩu mới</label>
                                <input type="password" name="newPassword" id="newPassword" class="form-control form-control-sm" required>
                            </div>
                            <div class="form-group">
                                <label for="confirmPassword">Xác nhận mật khẩu</label>
                                <input type="password" name="confirmPassword" id="confirmPassword" class="form-control form-control-sm" required>
                            </div>
                            <button type="submit" name="btn_login" class="btn btn-outline-primary btn-block">Lấy Lại Mật Khẩu</button>
                        </form>
                    </div>
                    <div class="col-md-12 text-sm-center mt-4">
                        <a class="" href="quen-mat-khau" id="rest">Quên mật khẩu</a>
                    </div>
                </div>
            </div>
        </div>
    </div>

    <%- get_layout("footer") %>

    <script>
        function validatePassword() {
            var newPassword = document.getElementById("newPassword").value;
            var confirmPassword = document.getElementById("confirmPassword").value;

            // Kiểm tra nếu mật khẩu mới và xác nhận mật khẩu không khớp
            if (newPassword !== confirmPassword) {
                alert("Mật khẩu và xác nhận mật khẩu không khớp.");
                return false; // Ngừng form gửi nếu không khớp
            }

            // Kiểm tra độ dài mật khẩu (ví dụ: ít nhất 6 ký tự)
            if (newPassword.length < 6) {
                alert("Mật khẩu phải có ít nhất 6 ký tự.");
                return false;
            }

            return true; // Nếu tất cả đều ổn, gửi form
        }
    </script>
